(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b1ed7f6"],{"37d3":function(t,s,o){"use strict";o.r(s);var a=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"main"},[o("div",{staticClass:"header"},[o("div",{staticClass:"left"},[o("span",{staticClass:"iconfont iconjiantou2",on:{click:function(s){return t.$router.back()}}}),o("span",{staticClass:"iconfont iconnew"})]),o("span",{staticClass:"follow",class:t.post.has_follow?"":"active",on:{click:t.handleFollow}},[t._v(" "+t._s(t.post.has_follow?"已关注":"关注")+" ")])]),o("h2",{staticClass:"title"},[t._v(t._s(t.post.title))]),o("p",{staticClass:"author"},[t._v(" "+t._s(t.post.user.nickname)+" "+t._s(t.moment(t.post.create_date).format("YYYY-MM-DD hh:mm:ss"))+" ")]),o("div",{staticClass:"content",domProps:{innerHTML:t._s(t.post.content)}}),o("div",{staticClass:"btn"},[o("div",{staticClass:"btn-item"},[o("span",{staticClass:"iconfont icondianzan",on:{click:t.handleLike}}),o("i",[t._v(t._s(t.post.like_length))])]),t._m(0)]),o("PostFooter",{attrs:{post:t.post}})],1)},n=[function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"btn-item"},[o("span",{staticClass:"iconfont iconweixin"}),o("i",[t._v("微信")])])}],i=o("c1df"),e=o.n(i),c=o("d16d"),l={data:function(){return{post:{user:{}},moment:e.a,token:""}},components:{PostFooter:c["a"]},mounted:function(){var t=this,s=JSON.parse(localStorage.getItem("userInfo")),o=s.token;this.token=o;var a={url:"/post/"+this.$route.params.id};o&&(a.headers={Authorization:o}),this.$axios(a).then((function(s){var o=s.data.data;t.post=o}))},methods:{handleFollow:function(){var t=this,s="";s=this.post.has_follow?"/user_unfollow/"+this.post.user.id:"/user_follows/"+this.post.user.id,this.$axios({url:s,headers:{Authorization:this.token}}).then((function(s){t.post.has_follow=!t.post.has_follow,t.$toast.success(t.post.has_follow?"关注成功":"取消关注成功")}))},handleLike:function(){var t=this;this.$axios({url:"/post_like/"+this.post.id,headers:{Authorization:this.token}}).then((function(s){t.post.has_like=!t.post.has_like,t.post.has_like?t.post.like_length+=1:t.post.like_length-=1,t.$toast.success(s.data.message)}))}}},r=l,h=(o("7a86"),o("2877")),u=Object(h["a"])(r,a,n,!1,null,"7621a690",null);s["default"]=u.exports},"7a86":function(t,s,o){"use strict";var a=o("e17e"),n=o.n(a);n.a},"9d47":function(t,s,o){},d16d:function(t,s,o){"use strict";var a=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"footer"},[o("router-link",{staticClass:"comment-input",attrs:{to:"/post-comment/"+t.post.id}},[t._v("发布评论")]),o("div",{staticClass:"icons"},[o("span",{staticClass:"iconfont iconpinglun-"}),o("i",[t._v(t._s(t.post.comment_length>100?"99+":t.post.comment_length))])]),o("div",{staticClass:"icons",on:{click:t.handleStar}},[o("span",{staticClass:"iconfont iconshoucang",class:t.post.has_star?"active":""})]),t._m(0)],1)},n=[function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"icons"},[o("span",{staticClass:"iconfont iconfenxiang"})])}],i={props:["post"],methods:{handleStar:function(){var t=this,s=JSON.parse(localStorage.getItem("userInfo"))||{},o=s.token;this.$axios({url:"/post_star/"+this.post.id,headers:{Authorization:o}}).then((function(s){t.post.has_star=!t.post.has_star,t.$toast.success(s.data.message)}))}}},e=i,c=(o("f105"),o("2877")),l=Object(c["a"])(e,a,n,!1,null,"3cd801fc",null);s["a"]=l.exports},e17e:function(t,s,o){},f105:function(t,s,o){"use strict";var a=o("9d47"),n=o.n(a);n.a}}]);
//# sourceMappingURL=chunk-1b1ed7f6.b1650688.js.map